// SPDX-License-Identifier: PMPL-1.0-or-later
= Changelog

All notable changes to Axiom.jl will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

== [Unreleased]

=== Release Notes (2026-02-17)

==== Added APIs
- `proof_assistant_obligation_report(path, assistant; expected_certificate_hash, expected_obligation_id)` for machine-readable Lean/Coq/Isabelle obligation status.
- `reconcile_proof_bundle(manifest_path; assistant_paths, persist=true)` to reconcile assistant artifacts into bundle manifests.
- `coprocessor_capability_report()` for strategy/capability snapshots across `TPUBackend`, `NPUBackend`, `PPUBackend`, `MathBackend`, `DSPBackend`, and `FPGABackend`.
- `coprocessor_runtime_diagnostics()` and `reset_coprocessor_runtime_diagnostics!()` for machine-readable coprocessor self-healing/fallback counters.
- `gpu_capability_report()` for CUDA/ROCm/Metal capability + hook coverage snapshots.
- `gpu_runtime_diagnostics()` and `reset_gpu_runtime_diagnostics!()` for machine-readable GPU self-healing/fallback counters.
- `metal_device_count()` exported alongside `cuda_device_count()` / `rocm_device_count()` for explicit GPU device-count introspection.
- `model_package_manifest(...)`, `export_model_package(...)`, `load_model_package_manifest(...)`, `build_registry_entry(...)`, and `export_registry_entry(...)` for deterministic model package + registry workflows.
- `verification_result_telemetry(...)`, `verification_telemetry_report()`, and `reset_verification_telemetry!()` for structured verification observability.

==== CI
- Coprocessor strategy workflow now generates and uploads `build/coprocessor_evidence.json` as a CI artifact (`coprocessor-evidence`).
- Coprocessor workflow now runs resilience diagnostics (`test/ci/coprocessor_resilience.jl`) and uploads `build/coprocessor_resilience_evidence.json` via `scripts/coprocessor-resilience-evidence.jl`.
- Coprocessor workflow now runs TPU strict-mode checks (`test/ci/tpu_required_mode.jl`) and uploads `build/tpu_strict_evidence.json` via `scripts/tpu-strict-evidence.jl`.
- Coprocessor workflow now runs NPU strict-mode checks (`test/ci/npu_required_mode.jl`) and uploads `build/npu_strict_evidence.json` via `scripts/npu-strict-evidence.jl`.
- Coprocessor workflow now runs DSP strict-mode checks (`test/ci/dsp_required_mode.jl`) and uploads `build/dsp_strict_evidence.json` via `scripts/dsp-strict-evidence.jl`.
- Coprocessor workflow now runs MATH strict-mode checks (`test/ci/math_required_mode.jl`) and uploads `build/math_strict_evidence.json` via `scripts/math-strict-evidence.jl`.
- GPU fallback/hardware workflows now generate and upload backend-specific performance evidence artifacts via `scripts/gpu-performance-evidence.jl`.
- Proof assistant bundle workflow now runs `test/ci/proof_bundle_reconciliation.jl` and uploads `build/proof_bundle_evidence.json` generated by `scripts/proof-bundle-evidence.jl`.
- Added roadmap could-baseline CI job covering model package/registry, optimization passes, and verification telemetry (`test/ci/model_package_registry.jl`, `test/ci/optimization_passes.jl`, `test/ci/verification_telemetry.jl`) with matching evidence scripts.

==== Fixed
- Coprocessor strict-mode controls (`AXIOM_COPROCESSOR_REQUIRED`, `AXIOM_TPU_REQUIRED`, `AXIOM_NPU_REQUIRED`, `AXIOM_DSP_REQUIRED`, `AXIOM_MATH_REQUIRED`, etc.) now block silent compile/runtime fallback and return actionable errors when hooks/hardware are missing.
- Isabelle proof skeleton exports now emit explicit unresolved placeholders (`oops`) so reconciliation/import status cannot report incomplete artifacts as complete.

=== Added
- Zig backend with SIMD-optimized operations (now the sole native backend)

=== Removed
- Rust backend removed; Zig backend is now the sole native backend. Migrate any `RustBackend(...)` calls to `ZigBackend(...)` and update `AXIOM_RUST_LIB` references to `AXIOM_ZIG_LIB`.
- Comprehensive documentation (Architecture, Performance, Safety-Critical, etc.)
- RSR compliance infrastructure (flake.nix, Justfile, security policies)
- Attention mechanisms for transformer models
- Flash attention implementation
- Rotary position embeddings

=== Changed
- Updated Home.md with complete documentation map
- Enhanced verification system documentation

=== Security
- Added SECURITY.md with vulnerability disclosure process
- Added .well-known/security.txt (RFC 9116 compliant)

== [0.1.0] - 2025-01-01

=== Added
- Initial release of Axiom.jl framework
- Julia DSL with `@axiom` macro for model definition
- Compile-time shape verification via parametric `Tensor{T, Shape}` type
- Runtime verification with `@ensure` macro
- Formal verification with `@prove` macro
- Verification certificates for regulatory compliance

==== Layers
- Dense (fully connected)
- Conv2D, Conv1D (convolution)
- MaxPool2D, AvgPool2D (pooling)
- GlobalAvgPool2D, GlobalMaxPool2D
- BatchNorm, LayerNorm, GroupNorm, InstanceNorm (normalization)
- Dropout
- Flatten, Reshape
- Sequential container

==== Activations
- ReLU, ReLU6, LeakyReLU, ELU, SELU
- GELU, Swish/SiLU, Mish
- Sigmoid, Tanh, Softmax
- HardSigmoid, HardSwish
- Softplus

==== Training
- Adam, AdamW, SGD, RMSprop optimizers
- CrossEntropyLoss, BinaryCrossEntropyLoss
- MSELoss, L1Loss, HuberLoss

==== Backends
- JuliaBackend: Pure Julia implementation
- RustBackend: High-performance parallel backend using Rayon (removed in Unreleased â€” use ZigBackend)
- ZigBackend: SIMD-optimized backend with minimal binary size

==== Compatibility
- PyTorch model import
- ONNX export/import

==== Documentation
- Complete wiki documentation
- API reference
- Tutorials (beginner to advanced)
- Migration guide from PyTorch

=== Security
- Memory-safe backends (Zig)
- Type-safe tensor operations
- Verification system for safety-critical applications

---

== Release Notes Format

=== Types of Changes

- **Added** for new features
- **Changed** for changes in existing functionality
- **Deprecated** for soon-to-be removed features
- **Removed** for now removed features
- **Fixed** for any bug fixes
- **Security** for vulnerability fixes

=== Version Numbering

- **MAJOR**: Incompatible API changes
- **MINOR**: New functionality (backwards compatible)
- **PATCH**: Bug fixes (backwards compatible)

[Unreleased]: https://github.com/Hyperpolymath/Axiom.jl/compare/v0.1.0...HEAD
[0.1.0]: https://github.com/Hyperpolymath/Axiom.jl/releases/tag/v0.1.0
